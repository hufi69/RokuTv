<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Greater Love TV - Roku App Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0F1419;
            color: white;
            overflow: hidden;
            height: 100vh;
        }

        .app-container {
            display: flex;
            width: 100vw;
            height: 100vh;
        }

        /* Main App Screen */
        .app-screen {
            flex: 1;
            background: linear-gradient(135deg, #0F1419 0%, #1e3c72 100%);
            position: relative;
            overflow: hidden;
        }

        /* Background Image */
        .background-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0F1419 0%, #1e3c72 100%);
            z-index: 0;
        }

        /* Header */
        .header {
            position: relative;
            z-index: 10;
            background: rgba(0,0,0,0.8);
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 60px;
            backdrop-filter: blur(10px);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo img {
            height: 50px;
            width: auto;
        }

        .logo-text {
            font-size: 24px;
            font-weight: bold;
            color: #DC143C;
        }

        .nav-menu {
            display: flex;
            gap: 20px;
        }

        .nav-item {
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            font-weight: 500;
        }

        .nav-item.active {
            background: #DC143C;
        }

        .nav-item:hover {
            background: #DC143C;
        }

        /* Content Sections */
        .content-container {
            position: relative;
            z-index: 5;
            padding: 40px 60px;
            height: calc(100vh - 80px);
            overflow-y: auto;
        }

        .section {
            margin-bottom: 50px;
        }

        .section-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title::before {
            content: '';
            width: 4px;
            height: 30px;
            background: #DC143C;
            border-radius: 2px;
        }

        /* Carousel */
        .carousel {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            padding-bottom: 10px;
            scrollbar-width: thin;
            scrollbar-color: #DC143C transparent;
        }

        .carousel::-webkit-scrollbar {
            height: 6px;
        }

        .carousel::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
        }

        .carousel::-webkit-scrollbar-thumb {
            background: #DC143C;
            border-radius: 3px;
        }

        /* Cards */
        .card {
            min-width: 280px;
            background: rgba(26, 35, 50, 0.9);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
            backdrop-filter: blur(10px);
        }

        .card:hover,
        .card.focused {
            transform: scale(1.05);
            border-color: #DC143C;
            box-shadow: 0 10px 30px rgba(220, 20, 60, 0.4);
        }

        .card img {
            width: 100%;
            height: 160px;
            object-fit: cover;
        }

        .card-content {
            padding: 15px;
        }

        .card-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
            color: white;
            line-height: 1.3;
        }

        .card-description {
            font-size: 14px;
            color: #ccc;
            line-height: 1.4;
        }

        /* Live Stream Cards */
        .live-card {
            position: relative;
        }

        .live-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #DC143C;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }

        /* Episode List Screen */
        .episode-screen {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 100;
        }

        .episode-screen.active {
            display: block;
        }

        .episode-header {
            background: rgba(0,0,0,0.9);
            padding: 20px 60px;
            border-bottom: 2px solid #DC143C;
        }

        .back-button {
            background: #DC143C;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .show-info h2 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .episode-count {
            color: #DC143C;
            font-size: 16px;
        }

        .episodes-list {
            padding: 40px 60px;
            max-height: calc(100vh - 200px);
            overflow-y: auto;
        }

        .episode-item {
            display: flex;
            align-items: center;
            background: rgba(26, 35, 50, 0.8);
            margin-bottom: 15px;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .episode-item:hover,
        .episode-item.focused {
            border-color: #DC143C;
            transform: translateX(10px);
        }

        .episode-thumbnail {
            width: 120px;
            height: 80px;
            background: #1A2332;
            border-radius: 6px;
            margin-right: 20px;
            object-fit: cover;
        }

        .episode-details h3 {
            font-size: 16px;
            margin-bottom: 5px;
        }

        .episode-meta {
            color: #ccc;
            font-size: 14px;
        }

        /* About Screen */
        .about-screen {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 100;
            overflow-y: auto;
        }

        .about-screen.active {
            display: block;
        }

        .about-content {
            padding: 40px 60px;
        }

        .about-hero {
            width: 100%;
            height: 300px;
            background-image: url('../images/about_us_top.png');
            background-size: cover;
            background-position: center;
            border-radius: 12px;
            margin-bottom: 40px;
        }

        .mission-section {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            margin-bottom: 40px;
        }

        .mission-text h3 {
            font-size: 24px;
            color: #DC143C;
            margin-bottom: 20px;
        }

        .mission-text p {
            line-height: 1.6;
            margin-bottom: 20px;
            color: #ccc;
        }

        .qr-codes {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .qr-item {
            text-align: center;
            background: rgba(26, 35, 50, 0.8);
            padding: 20px;
            border-radius: 8px;
        }

        .qr-item img {
            width: 100px;
            height: 100px;
            margin-bottom: 10px;
        }

        /* Loading */
        .loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid #333;
            border-top: 3px solid #DC143C;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Remote Control */
        .remote-control {
            width: 250px;
            background: #2A2A2A;
            padding: 20px;
            display: flex;
            flex-direction: column;
            border-left: 2px solid #444;
        }

        .remote-title {
            color: #DC143C;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }

        .d-pad {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
        }

        .remote-btn {
            position: absolute;
            background: #444;
            border: 2px solid #666;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
            font-weight: bold;
        }

        .remote-btn:hover {
            background: #666;
        }

        .remote-btn.up { top: 0; left: 40px; width: 40px; height: 30px; border-radius: 15px 15px 5px 5px; }
        .remote-btn.down { bottom: 0; left: 40px; width: 40px; height: 30px; border-radius: 5px 5px 15px 15px; }
        .remote-btn.left { left: 0; top: 40px; width: 30px; height: 40px; border-radius: 15px 5px 5px 15px; }
        .remote-btn.right { right: 0; top: 40px; width: 30px; height: 40px; border-radius: 5px 15px 15px 5px; }
        .remote-btn.ok { top: 40px; left: 40px; width: 40px; height: 40px; border-radius: 50%; background: #DC143C; border-color: #DC143C; }

        .control-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .control-btn {
            background: #444;
            border: 1px solid #666;
            color: white;
            padding: 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        .control-btn:hover { background: #666; }
        .control-btn.home { background: #DC143C; border-color: #DC143C; }
        .control-btn.back { background: #DC2626; }

        /* Status Display */
        .status-display {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0,0,0,0.8);
            border-radius: 6px;
            font-size: 12px;
        }

        .status-display h4 {
            color: #DC143C;
            margin-bottom: 10px;
        }

        .api-status {
            margin: 5px 0;
        }

        .api-status.success { color: #10B981; }
        .api-status.error { color: #EF4444; }
        .api-status.pending { color: #F59E0B; }

        /* QR Code Modal */
        .qr-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            backdrop-filter: blur(5px);
        }

        .qr-modal.active {
            display: flex;
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .qr-modal-content {
            background: linear-gradient(135deg, #0F1419 0%, #1A2332 100%);
            padding: 0;
            border-radius: 20px;
            max-width: 900px;
            width: 95%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.8);
            border: 2px solid #DC143C;
        }

        .qr-modal-header {
            background: linear-gradient(135deg, #DC143C 0%, #B22222 100%);
            padding: 30px 40px;
            border-radius: 18px 18px 0 0;
            position: relative;
        }

        .qr-modal-header h2 {
            color: white;
            font-size: 28px;
            margin: 0;
            text-align: center;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .back-button {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-50%) scale(1.05);
        }

        .qr-modal-body {
            padding: 40px;
        }

        .qr-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-bottom: 30px;
        }

        .qr-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .qr-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(220, 20, 60, 0.3);
            border-color: #DC143C;
        }

        .qr-card img {
            width: 180px;
            height: 180px;
            margin-bottom: 15px;
            border-radius: 8px;
        }

        .qr-card h3 {
            color: #333;
            font-size: 18px;
            font-weight: bold;
            margin: 0;
        }

        .qr-card p {
            color: #666;
            font-size: 14px;
            margin: 8px 0 0 0;
        }

        .modal-footer {
            text-align: center;
            padding: 0 40px 30px;
        }

        .close-modal {
            background: linear-gradient(135deg, #DC143C 0%, #B22222 100%);
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(220, 20, 60, 0.4);
        }

        .close-modal:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(220, 20, 60, 0.6);
        }

        /* Video Player */
        .video-player-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #000;
            display: none;
            z-index: 3000;
            flex-direction: column;
        }

        .video-player-overlay.active {
            display: flex;
        }

        .video-player-header {
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            position: relative;
            z-index: 3001;
        }

        .video-back-button {
            background: #DC143C;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .video-back-button:hover {
            background: #B22222;
            transform: scale(1.05);
        }

        .video-title {
            color: white;
            font-size: 24px;
            font-weight: bold;
            margin: 0;
        }

        .video-subtitle {
            color: #ccc;
            font-size: 16px;
            margin: 5px 0 0 0;
        }

        .video-container {
            flex: 1;
            position: relative;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .video-player {
            width: 100%;
            height: 100%;
            background: #000;
        }

        .video-player video {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .video-player iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .video-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .video-loading .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #333;
            border-top: 3px solid #DC143C;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .video-error {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            text-align: center;
            background: rgba(220, 20, 60, 0.1);
            padding: 30px;
            border-radius: 12px;
            border: 2px solid #DC143C;
        }

        .video-error h3 {
            color: #DC143C;
            margin-bottom: 15px;
        }

        .video-error p {
            margin-bottom: 20px;
            color: #ccc;
        }

        .video-controls {
            background: rgba(0, 0, 0, 0.8);
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .play-pause-btn {
            background: #DC143C;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
        }

        .play-pause-btn:hover {
            background: #B22222;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .volume-slider {
            width: 100px;
            height: 5px;
            background: #333;
            border-radius: 5px;
            outline: none;
            cursor: pointer;
        }

        .volume-slider::-webkit-slider-thumb {
            appearance: none;
            width: 15px;
            height: 15px;
            background: #DC143C;
            border-radius: 50%;
            cursor: pointer;
        }

        .live-indicator {
            background: #DC143C;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .qr-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .qr-modal-content {
                width: 98%;
                margin: 10px;
            }

            .qr-modal-header {
                padding: 20px;
            }

            .qr-modal-header h2 {
                font-size: 22px;
            }

            .qr-modal-body {
                padding: 20px;
            }

            .qr-card {
                padding: 20px;
            }

            .qr-card img {
                width: 150px;
                height: 150px;
            }

            .video-player-header {
                padding: 15px;
            }

            .video-title {
                font-size: 18px;
            }

            .video-controls {
                padding: 10px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Main App Screen -->
        <div class="app-screen">
            <!-- Background -->
            <div class="background-overlay"></div>

            <!-- Header -->
            <div class="header">
                <div class="logo">
                    <img src="../images/app_logo.png" alt="Greater Love Network" onerror="this.style.display='none'">
                    <div class="logo-text">GREATER LOVE NETWORK</div>
                </div>
                <div class="nav-menu">
                    <div class="nav-item active" onclick="showMainScreen()">HOME</div>
                    <div class="nav-item" onclick="showAboutScreen()">ABOUT US</div>
                    <div class="nav-item" onclick="focusAllShows()">ALL SHOWS</div>
                    <div class="nav-item" onclick="showInfoDialog()">INFO</div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="content-container" id="mainContent">
                <!-- Hero Section -->
                <div class="hero-section" style="background-image: url('../images/background.png'); background-size: cover; background-position: center; height: 400px; margin-bottom: 40px; position: relative; border-radius: 12px; overflow: hidden;">
                    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.3); display: flex; align-items: center; padding: 60px;">
                        <div style="max-width: 600px;">
                            <h1 style="font-size: 56px; font-weight: bold; margin-bottom: 20px; line-height: 1.1; color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">MEET OUR<br>INSPIRING<br>MINISTERS</h1>
                            <p style="font-size: 24px; margin-bottom: 30px; color: #ccc; font-weight: 300; text-shadow: 1px 1px 2px rgba(0,0,0,0.8);">IN ONE PLACE</p>
                            <button onclick="focusLiveStreams()" style="background: #DC143C; color: white; border: none; padding: 18px 40px; border-radius: 8px; font-size: 18px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(220, 20, 60, 0.4);" onmouseover="this.style.background='#B22222'" onmouseout="this.style.background='#DC143C'">Start Exploring</button>
                        </div>
                    </div>
                </div>

                <!-- Continue Watching Section -->
                <div class="section">
                    <div class="section-title">‚ñ∂Ô∏è Continue Watching</div>
                    <div class="carousel" id="continueWatchingCarousel">
                        <!-- Continue watching will be loaded here -->
                    </div>
                </div>


                <!-- Live Streams Section -->
                <div class="section">
                    <div class="section-title">üî¥ Live Streams</div>
                    <div class="carousel" id="liveStreamsCarousel">
                        <!-- Live streams will be loaded here -->
                    </div>
                </div>

                <!-- Premium Shows Section -->
                <div class="section">
                    <div class="section-title">‚≠ê Premium Shows</div>
                    <div class="carousel" id="premiumShowsCarousel">
                        <!-- Premium shows will be loaded here -->
                    </div>
                </div>

                <!-- All Shows Section -->
                <div class="section">
                    <div class="section-title">üì∫ All Shows & Episodes</div>
                    <div class="carousel" id="showsCarousel">
                        <!-- Shows will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Episode List Screen -->
            <div class="episode-screen" id="episodeScreen">
                <div class="episode-header">
                    <button class="back-button" onclick="showMainScreen()">‚Üê Back</button>
                    <div class="show-info">
                        <h2 id="episodeShowTitle">Show Title</h2>
                        <div class="episode-count" id="episodeCount">0 episodes</div>
                    </div>
                </div>
                <div class="episodes-list" id="episodesList">
                    <!-- Episodes will be loaded here -->
                </div>
            </div>

            <!-- About Screen -->
            <div class="about-screen" id="aboutScreen">
                <div class="episode-header">
                    <button class="back-button" onclick="showMainScreen()">‚Üê Back</button>
                    <div class="show-info">
                        <h2>About Greater Love Network</h2>
                    </div>
                </div>
                <div class="about-content" style="padding: 0; max-width: 100%; overflow-y: auto;">
                    <!-- About Us Top Image with Text Overlay -->
                    <div style="position: relative; margin-bottom: 40px;">
                        <img src="../images/about_us_top.png" alt="About Us Top" style="width: 100%; height: 400px; object-fit: cover;" onerror="this.style.display='none';">
                        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center;">
                            <h1 style="color: white; font-size: 48px; font-weight: bold; text-align: center; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">ABOUT GREATER LOVE<br>NETWORK TV</h1>
                        </div>
                    </div>
                    <div style="padding: 40px;">
                        <!-- Mission Section -->
                        <div style="display: flex; gap: 60px; margin-bottom: 40px; align-items: flex-start;">
                            <div style="flex: 1;">
                                <h3 style="color: white; font-size: 24px; margin-bottom: 20px; font-weight: bold;">OUR MISSION & VISION</h3>
                                <p style="font-size: 16px; line-height: 1.6; margin-bottom: 20px; color: #ccc;">Greater Love Network Television Network has a singular goal: to reach souls with the good news of Jesus Christ.</p>
                                <p style="font-size: 14px; line-height: 1.6; margin-bottom: 20px; color: #aaa;">We seek out every available means of distribution to a world in need of hope. With an extensive blend of interdenominational and multi-cultural programming, we are committed to producing quality television that will reach our viewers, refresh their lives, and renew their hearts.</p>
                                <button style="background: #DC143C; color: white; border: none; padding: 12px 24px; border-radius: 4px; font-size: 14px; cursor: pointer; margin-top: 20px;">CONTACT US</button>
                            </div>
                            <div style="flex: 1;">
                                <img src="../images/about_us_bottom.jpg" alt="About Us" style="width: 100%; height: 300px; object-fit: cover; border-radius: 8px;" onerror="this.style.display='none';">
                            </div>
                        </div>

                        <!-- Help Others Section -->
                        <div style="text-align: center; margin: 60px 0;">
                            <p style="color: #DC143C; font-size: 14px; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px;">DONATE NOW</p>
                            <h2 style="color: white; font-size: 36px; font-weight: bold; margin-bottom: 20px;">HELP OTHERS STAND STRONG IN FAITH</h2>
                            <p style="color: #ccc; font-size: 16px; line-height: 1.6; max-width: 800px; margin: 0 auto 30px;">Around the world, and right where you live people are desperate for something that will bring them peace, purpose, and a buffer from the confusion all around them. Of course the only answer is Jesus. And here at TBN, through the partnership of friends like you, we're taking the message of His salvation and hope to nations around the world. Your generosity will help us meet the overwhelming content designed to help you grow stronger in the Lord.</p>
                            <button style="background: #DC143C; color: white; border: none; padding: 15px 30px; border-radius: 4px; font-size: 16px; cursor: pointer; font-weight: bold;">GREATER LOVE</button>
                        </div>

                        <!-- Thank You Section -->
                        <div style="text-align: center; margin: 40px 0;">
                            <h3 style="color: white; font-size: 24px; margin-bottom: 20px;">THANK YOU FOR STANDING WITH US!</h3>
                            <button style="background: white; color: #333; border: none; padding: 12px 24px; border-radius: 4px; font-size: 14px; cursor: pointer;">DONATE NOW</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Loading Indicator -->
            <div class="loading" id="loadingSpinner" style="display: none;">
                <div class="spinner"></div>
            </div>
        </div>

        <!-- Remote Control -->
        <div class="remote-control">
            <div class="remote-title">Roku Remote Simulator</div>

            <div class="d-pad">
                <button class="remote-btn up" onclick="handleRemoteKey('ArrowUp')">‚Üë</button>
                <button class="remote-btn down" onclick="handleRemoteKey('ArrowDown')">‚Üì</button>
                <button class="remote-btn left" onclick="handleRemoteKey('ArrowLeft')">‚Üê</button>
                <button class="remote-btn right" onclick="handleRemoteKey('ArrowRight')">‚Üí</button>
                <button class="remote-btn ok" onclick="handleRemoteKey('Enter')">OK</button>
            </div>

            <div class="control-buttons">
                <button class="control-btn home" onclick="handleRemoteKey('Home')">üè† Home</button>
                <button class="control-btn back" onclick="handleRemoteKey('Escape')">‚Üê Back</button>
                <button class="control-btn" onclick="handleRemoteKey(' ')">‚ñ∂Ô∏è Play</button>
                <button class="control-btn" onclick="loadRealData()">üîÑ Reload API</button>
                <button class="control-btn" onclick="prevPage()">‚óÄ Prev Page</button>
                <button class="control-btn" onclick="nextPage()">Next Page ‚ñ∂</button>
                <button class="control-btn" onclick="debugAPIData()">üêõ Debug API</button>
                <button class="control-btn" onclick="testEpisodeURL()">üß™ Test Episode</button>
            </div>

            <!-- Status Display -->
            <div class="status-display">
                <h4>API Status</h4>
                <div class="api-status" id="apiStatus">Ready to test</div>
                <div class="api-status" id="showCount">Shows: 0</div>
                <div class="api-status" id="streamCount">Streams: 0</div>
            </div>
        </div>
    </div>

    <!-- QR Code Modal -->
    <div class="qr-modal" id="qrModal" onclick="closeQRModal()">
        <div class="qr-modal-content" onclick="event.stopPropagation()">
            <div class="qr-modal-header">
                <button class="back-button" onclick="closeQRModal()">‚Üê Back</button>
                <h2>Connect With Greater Love Network</h2>
            </div>

            <div class="qr-modal-body">
                <div class="qr-grid">
                    <div class="qr-card">
                        <img src="../images/donate_qrcode.png" alt="Donate QR Code" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNEQzE0M0MiLz48dGV4dCB4PSIxMDAiIHk9IjEwNSIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMjAiPkRvbmF0ZTwvdGV4dD48L3N2Zz4='">
                        <h3>Donate</h3>
                        <p>Support our ministry</p>
                    </div>
                    <div class="qr-card">
                        <img src="../images/tell_your_story_qrcode.png" alt="Tell Your Story QR Code" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNEQzE0M0MiLz48dGV4dCB4PSIxMDAiIHk9IjEwNSIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTYiPlN0b3J5PC90ZXh0Pjwvc3ZnPg=='">
                        <h3>Tell Your Story</h3>
                        <p>Share your testimony</p>
                    </div>
                    <div class="qr-card">
                        <img src="../images/prayer_request_qrcode.png" alt="Prayer Request QR Code" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNEQzE0M0MiLz48dGV4dCB4PSIxMDAiIHk9IjEwNSIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTYiPlByYXllcjwvdGV4dD48L3N2Zz4='">
                        <h3>Prayer Request</h3>
                        <p>Submit prayer requests</p>
                    </div>
                    <div class="qr-card">
                        <img src="../images/download_mobile_app_qrcode.png" alt="Download Mobile App QR Code" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNEQzE0M0MiLz48dGV4dCB4PSIxMDAiIHk9IjEwNSIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTQiPkFwcDwvdGV4dD48L3N2Zz4='">
                        <h3>Download Mobile App</h3>
                        <p>Get our mobile app</p>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="close-modal" onclick="closeQRModal()">Done</button>
            </div>
        </div>
    </div>

    <!-- Video Player Overlay -->
    <div class="video-player-overlay" id="videoPlayerOverlay">
        <div class="video-player-header">
            <button class="video-back-button" onclick="closeVideoPlayer()">‚Üê Back</button>
            <div>
                <h2 class="video-title" id="videoTitle">Loading...</h2>
                <p class="video-subtitle" id="videoSubtitle">Preparing stream...</p>
            </div>
            <div class="live-indicator" id="liveIndicator" style="display: none;">
                <div class="live-dot"></div>
                LIVE
            </div>
        </div>

        <div class="video-container">
            <div class="video-player" id="videoPlayer">
                <!-- Video content will be loaded here -->
            </div>

            <div class="video-loading" id="videoLoading">
                <div class="spinner"></div>
                <span>Loading stream...</span>
            </div>

            <div class="video-error" id="videoError" style="display: none;">
                <h3>Unable to Load Stream</h3>
                <p>There was an issue loading this content. Please try again or select a different stream.</p>
                <button class="video-back-button" onclick="closeVideoPlayer()">Return to Menu</button>
            </div>
        </div>

        <div class="video-controls" id="videoControls" style="display: none;">
            <button class="play-pause-btn" id="playPauseBtn" onclick="togglePlayPause()">‚è∏Ô∏è Pause</button>
            <div class="volume-control">
                <span style="color: white; font-size: 14px;">üîä</span>
                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="50" onchange="setVolume(this.value)">
            </div>
            <div style="flex: 1;"></div>
            <button class="video-back-button" onclick="closeVideoPlayer()">Exit Fullscreen</button>
        </div>
    </div>

    <script>
        // API Configuration - EXACT from your provided data
        const API_BASE = 'https://api.castr.com/v2';
        const ACCESS_TOKEN = '5aLoKjrNjly4';
        const SECRET_KEY = 'UjTCq8wOj76vjXznGFzdbMRzAkFq6VlJElBQ';
        const AUTH_HEADER = 'Basic ' + btoa(ACCESS_TOKEN + ':' + SECRET_KEY);

        // App State
        let currentScreen = 'home';
        let shows = [];
        let allShows = []; // Store all shows for pagination
        let liveStreams = [];
        let currentShow = null;
        let currentFocus = 0;
        let focusableElements = [];
        let currentPage = 1;
        let totalPages = 6;
        let totalShows = 51;

        // Initialize the simulator
        function init() {
            console.log('üöÄ Initializing Greater Love TV Simulator');
            setupKeyboardControls();
            loadMockData();
            loadRealData();
            updateFocus();
        }

        // Load mock data for immediate testing
        function loadMockData() {
            // Mock live streams
            liveStreams = [
                {
                    name: "Greater Love TV I",
                    enabled: true,
                    hls_url: "https://rpn.bozztv.com/dvrfl03/itv04060/index.m3u8",
                    image: "../images/GL_live_1.png"
                },
                {
                    name: "Greater Love TV II",
                    enabled: true,
                    hls_url: "https://rpn.bozztv.com/dvrfl04/itv04019/index.m3u8",
                    image: "../images/GL_live_2.png"
                }
            ];

            // Mock shows with better data
            shows = [
                {
                    name: "Truth That Matters",
                    enabled: true,
                    data: [
                        {enabled: true, fileName: "Truth That Matters - Episode 1.mp4", creationTime: "2024-01-15T10:00:00.000Z", mediaInfo: {durationMins: 30}, playback: {embed_url: "https://player.castr.com/vod/truth1"}},
                        {enabled: true, fileName: "Truth That Matters - Episode 2.mp4", creationTime: "2024-01-22T10:00:00.000Z", mediaInfo: {durationMins: 35}, playback: {embed_url: "https://player.castr.com/vod/truth2"}}
                    ],
                    episodeCount: 2
                },
                {
                    name: "CT Townsend - Fresh Oil",
                    enabled: true,
                    data: [
                        {enabled: true, fileName: "Fresh Oil - Episode 1.mp4", creationTime: "2024-01-10T09:00:00.000Z", mediaInfo: {durationMins: 45}, playback: {embed_url: "https://player.castr.com/vod/fresh1"}}
                    ],
                    episodeCount: 1
                },
                {
                    name: "Sandra Hancock - Voice of Hope",
                    enabled: true,
                    data: [
                        {enabled: true, fileName: "Voice of Hope - Episode 1.mp4", creationTime: "2024-01-05T11:00:00.000Z", mediaInfo: {durationMins: 25}, playback: {embed_url: "https://player.castr.com/vod/voice1"}}
                    ],
                    episodeCount: 1
                },
                {
                    name: "Ignited Church Services",
                    enabled: true,
                    data: [
                        {enabled: true, fileName: "Sunday Service - January 2024.mp4", creationTime: "2024-01-07T19:00:00.000Z", mediaInfo: {durationMins: 60}, playback: {embed_url: "https://player.castr.com/vod/ignited1"}}
                    ],
                    episodeCount: 1
                },
                {
                    name: "Grace Pointe Fellowship",
                    enabled: true,
                    data: [
                        {enabled: true, fileName: "Grace Pointe - Worship Service.mp4", creationTime: "2024-01-12T18:00:00.000Z", mediaInfo: {durationMins: 50}, playback: {embed_url: "https://player.castr.com/vod/grace1"}}
                    ],
                    episodeCount: 1
                },
                {
                    name: "Second Chances Ministry",
                    enabled: true,
                    data: [
                        {enabled: true, fileName: "Second Chances - Testimony.mp4", creationTime: "2024-01-08T16:00:00.000Z", mediaInfo: {durationMins: 40}, playback: {embed_url: "https://player.castr.com/vod/second1"}}
                    ],
                    episodeCount: 1
                }
            ];

            renderContent();
            updateCounts();
        }

        // Load real data from Castr API
        async function loadRealData() {
            setApiStatus('pending', 'Loading API data...');
            console.log('üîÑ Starting to load API data...');

            // Use stored API response data directly (more reliable for demo)
            console.log('üì¶ Using stored API data for reliable demo experience...');

            // Fallback to stored API response data
            // YOUR LIVE API RESPONSE DATA - Real Current Data (Updated with latest page 1)
            const realApiData = {
                "total": 51,
                "page": 1,
                "pages": 6,
                "docs": [
                    {
                        "_id": "68c8658499f4460b5b52dd6b",
                        "name": "Kevin Wallace Ministries",
                        "enabled": true,
                        "type": "vod",
                        "data": [
                            {
                                "enabled": true,
                                "id": "lsbvWsOi76xbDtu0.mp4",
                                "fileName": "Beyond the Roman Road: Part 4",
                                "bytes": 764544401,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1716,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-09-16T18:13:48.200Z",
                                "_id": "68c9a8dcf7a9184104a40716",
                                "playback": {"embed_url": "https://player.castr.com/vod/lsbvWsOi76xbDtu0"}
                            },
                            {
                                "enabled": true,
                                "id": "gjcD9qP6ZIVeHaCW.mp4",
                                "fileName": "Beyond the Roman Road: Part 3",
                                "bytes": 753618439,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1716,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-09-16T18:12:35.732Z",
                                "_id": "68c9a893d6c62640df024e80",
                                "playback": {"embed_url": "https://player.castr.com/vod/gjcD9qP6ZIVeHaCW"}
                            },
                            {
                                "enabled": true,
                                "id": "UR5vEZdRpUxnBsls.mp4",
                                "fileName": "Beyond the Roman Road: Part 2",
                                "bytes": 957791798,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1713,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-09-16T18:09:13.687Z",
                                "_id": "68c9a7c95ac94340d46046c7",
                                "playback": {"embed_url": "https://player.castr.com/vod/UR5vEZdRpUxnBsls"}
                            },
                            {
                                "enabled": true,
                                "id": "hYFvSILq87jPze49.mp4",
                                "fileName": "Beyond the Roman Road: Part 1",
                                "bytes": 716705378,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1716,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-09-16T18:06:46.828Z",
                                "_id": "68c9a7363a92bc4084c4052a",
                                "playback": {"embed_url": "https://player.castr.com/vod/hYFvSILq87jPze49"}
                            }
                        ],
                        "user": "68652a3418bba63c0f32a04d",
                        "creation_time": "2025-09-15T19:14:12.982Z"
                    },
                    {
                        "_id": "68c81d7ea07fbf0b6d5dd2dc",
                        "name": "Touched By The Truth",
                        "enabled": true,
                        "type": "vod",
                        "data": [
                            {
                                "enabled": true,
                                "id": "GLdnrdoMrTyZifeG.mp4",
                                "fileName": "Surviving The Transitional Place.mp4",
                                "bytes": 649086673,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1710,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 30,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "angel@oasisministries.com",
                                "creationTime": "2025-09-15T17:50:53.228Z",
                                "_id": "68c851fdf41b250b0f90db07",
                                "playback": {"embed_url": "https://player.castr.com/vod/GLdnrdoMrTyZifeG"}
                            },
                            {
                                "enabled": true,
                                "id": "UbhaEq07jrB3xjic.mp4",
                                "fileName": "Acts Chapter 8.mp4",
                                "bytes": 1218106093,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 3207,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 30,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 54
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "angel@oasisministries.com",
                                "creationTime": "2025-09-15T17:00:36.032Z",
                                "_id": "68c846340d83970b16f68006",
                                "playback": {"embed_url": "https://player.castr.com/vod/UbhaEq07jrB3xjic"}
                            }
                        ],
                        "user": "68652a3418bba63c0f32a04d",
                        "creation_time": "2025-09-15T14:06:54.534Z"
                    },
                    {
                        "_id": "68a86fd7ea336e28e2f86ea0",
                        "name": "Better Life Now",
                        "enabled": true,
                        "type": "vod",
                        "data": [
                            {
                                "enabled": true,
                                "id": "s075nAum5LU9dUwo.mp4",
                                "fileName": "The Miracles I Have Seen - Part 3",
                                "bytes": 559596589,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1711,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 25,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-08-22T13:26:12.070Z",
                                "_id": "68a86ff4c24ef12911c9392c",
                                "playback": {"embed_url": "https://player.castr.com/vod/s075nAum5LU9dUwo"}
                            }
                        ],
                        "user": "68652a3418bba63c0f32a04d",
                        "creation_time": "2025-08-22T13:25:43.597Z"
                    },
                    {
                        "_id": "6894fa1c11a8954f40459dc6",
                        "name": "The Be Circle",
                        "enabled": true,
                        "type": "vod",
                        "data": [
                            {
                                "enabled": true,
                                "id": "BcEjfs5Wa7oPVMh8.mp4",
                                "fileName": "Not Everyone You Lose is a Loss",
                                "bytes": 1072322428,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1711,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "angel@oasisministries.com",
                                "creationTime": "2025-09-09T13:26:33.122Z",
                                "_id": "68c02b095a56c49673b8dbe3",
                                "playback": {"embed_url": "https://player.castr.com/vod/BcEjfs5Wa7oPVMh8"}
                            },
                            {
                                "enabled": true,
                                "id": "minhOLoEBJ5me9bd.mp4",
                                "fileName": "Waiting Is Not Wasteful",
                                "bytes": 1021153223,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1711,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "angel@oasisministries.com",
                                "creationTime": "2025-09-09T13:01:04.718Z",
                                "_id": "68c02510da2195966cf2abd6",
                                "playback": {"embed_url": "https://player.castr.com/vod/minhOLoEBJ5me9bd"}
                            }
                        ],
                        "user": "68652a3418bba63c0f32a04d",
                        "creation_time": "2025-08-07T19:10:20.245Z"
                    },
                    {
                        "_id": "688cf945e4eb0466ee645f57",
                        "name": "Teri Talks",
                        "enabled": true,
                        "type": "vod",
                        "data": [
                            {
                                "enabled": true,
                                "id": "kIuGyRpyevM9Kkkh.mp4",
                                "fileName": "Advent: Celebrating Love",
                                "bytes": 549619506,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1711,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 24,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "angel@oasisministries.com",
                                "creationTime": "2025-09-09T18:08:29.109Z",
                                "_id": "68c06d1d28bbe796bfe29fd0",
                                "playback": {"embed_url": "https://player.castr.com/vod/kIuGyRpyevM9Kkkh"}
                            },
                            {
                                "enabled": true,
                                "id": "JmkHy5jPhBaqcChV.mp4",
                                "fileName": "Advent: Celebrating Peace",
                                "bytes": 447967725,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1711,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 24,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "angel@oasisministries.com",
                                "creationTime": "2025-09-09T17:45:47.036Z",
                                "_id": "68c067cb4909b896fa412a40",
                                "playback": {"embed_url": "https://player.castr.com/vod/JmkHy5jPhBaqcChV"}
                            }
                        ],
                        "user": "68652a3418bba63c0f32a04d",
                        "creation_time": "2025-08-01T17:28:37.389Z"
                    },
                    {
                        "_id": "688a5efae71ec4399a761e21",
                        "name": "Fresh Oil",
                        "enabled": true,
                        "type": "vod",
                        "data": [
                            {
                                "enabled": true,
                                "id": "5sVjCTVc2PTzpEFJ.mp4",
                                "fileName": "Judah was His Sanctuary, Israel was His Dominion: Part 2",
                                "bytes": 433681465,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1711,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-09-11T20:47:51.990Z",
                                "_id": "68c3357762ca5b9705c610e0",
                                "playback": {"embed_url": "https://player.castr.com/vod/5sVjCTVc2PTzpEFJ"}
                            },
                            {
                                "enabled": true,
                                "id": "8ae2rGvMCx5mx3AT.mp4",
                                "fileName": "Judah was His Sanctuary, Israel was His Dominion: Part 1",
                                "bytes": 291978381,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1452,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 25
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-09-11T20:47:06.478Z",
                                "_id": "68c3354a5a56c4967316888e",
                                "playback": {"embed_url": "https://player.castr.com/vod/8ae2rGvMCx5mx3AT"}
                            },
                            {
                                "enabled": true,
                                "id": "Kak1CwawNqAXjWOp.mp4",
                                "fileName": "Walk By Faith",
                                "bytes": 733895416,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1711,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-09-11T20:46:35.507Z",
                                "_id": "68c3352b2d670296d5d1d3e4",
                                "playback": {"embed_url": "https://player.castr.com/vod/Kak1CwawNqAXjWOp"}
                            },
                            {
                                "enabled": true,
                                "id": "2g5Z4pqwg2gkIPFc.mp4",
                                "fileName": "A New Chapter: Part 2",
                                "bytes": 737173828,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1711,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-09-11T20:45:42.881Z",
                                "_id": "68c334f64909b896fa810963",
                                "playback": {"embed_url": "https://player.castr.com/vod/2g5Z4pqwg2gkIPFc"}
                            },
                            {
                                "enabled": true,
                                "id": "cWMCqccvbjI6tdGI.mp4",
                                "fileName": "A New Chapter: Part 1",
                                "bytes": 624893012,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1711,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-09-11T20:44:58.172Z",
                                "_id": "68c334cab888b7967df86280",
                                "playback": {"embed_url": "https://player.castr.com/vod/cWMCqccvbjI6tdGI"}
                            },
                            {
                                "enabled": true,
                                "id": "8PQkk7s0GU9pYNnc.mp4",
                                "fileName": "Demonstration and Power of the Spirit: Part 2",
                                "bytes": 1570464422,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1711,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-09-11T20:40:23.826Z",
                                "_id": "68c333b7c2c221969e71fa12",
                                "playback": {"embed_url": "https://player.castr.com/vod/8PQkk7s0GU9pYNnc"}
                            },
                            {
                                "enabled": true,
                                "id": "NjLZNS3IHRtqVst1.mp4",
                                "fileName": "Demonstration and Power of the Spirit: Part 1",
                                "bytes": 1355111916,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1711,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-09-11T20:38:22.584Z",
                                "_id": "68c3333e6d615596efb731c7",
                                "playback": {"embed_url": "https://player.castr.com/vod/NjLZNS3IHRtqVst1"}
                            },
                            {
                                "enabled": true,
                                "id": "NGQo2gxchTjTmdK6.mp4",
                                "fileName": "Emily's Testimony",
                                "bytes": 681024431,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1710,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-07-31T13:33:45.525Z",
                                "_id": "688b70b9a58ec767215c06ba",
                                "playback": {"embed_url": "https://player.castr.com/vod/NGQo2gxchTjTmdK6"}
                            }
                        ],
                        "user": "68652a3418bba63c0f32a04d",
                        "creation_time": "2025-07-30T18:05:46.475Z"
                    },
                    {
                        "_id": "688a558b40cfc43a241f956a",
                        "name": "Grace Pointe Church",
                        "enabled": true,
                        "type": "vod",
                        "data": [
                            {
                                "enabled": true,
                                "id": "cYhSISxMKc4sNLsg.mp4",
                                "fileName": "Israel and the End Times: Do they have a place?",
                                "bytes": 730333339,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1697,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 30,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "angel@oasisministries.com",
                                "creationTime": "2025-07-30T18:02:40.997Z",
                                "_id": "688a5e4039a8fd39ed108a10",
                                "playback": {"embed_url": "https://player.castr.com/vod/cYhSISxMKc4sNLsg"}
                            },
                            {
                                "enabled": true,
                                "id": "uWjmgQ1AlWYU0LZi.mp4",
                                "fileName": "Come",
                                "bytes": 612718511,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1697,
                                    "width": 1920,
                                    "height": 1080,
                                    "fps": 30,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "angel@oasisministries.com",
                                "creationTime": "2025-07-30T17:51:18.527Z",
                                "_id": "688a5b968df84e3a07372971",
                                "playback": {"embed_url": "https://player.castr.com/vod/uWjmgQ1AlWYU0LZi"}
                            }
                        ],
                        "user": "68652a3418bba63c0f32a04d",
                        "creation_time": "2025-07-30T17:25:31.939Z"
                    },
                    {
                        "_id": "68960a42ad39e1a712a36198",
                        "name": "Seeds Kids",
                        "enabled": true,
                        "type": "vod",
                        "data": [
                            {
                                "enabled": true,
                                "id": "OjYeHl6gbCDmuCQb.mp4",
                                "fileName": "Season 2, Episode 2",
                                "bytes": 467680827,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1711,
                                    "width": 1280,
                                    "height": 720,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-08-08T14:33:11.220Z",
                                "_id": "68960aa7631853a74cc1332f",
                                "playback": {"embed_url": "https://player.castr.com/vod/OjYeHl6gbCDmuCQb"}
                            },
                            {
                                "enabled": true,
                                "id": "RnFULPwIfDiN8Cq4.mp4",
                                "fileName": "Season 1, Episode 8",
                                "bytes": 555159106,
                                "mediaInfo": {
                                    "hasAudioTrack": true,
                                    "isVbr": false,
                                    "duration": 1710,
                                    "width": 1280,
                                    "height": 720,
                                    "fps": 29,
                                    "codecs": [{"type": "video", "codec": "AVC"}, {"type": "audio", "codec": "AAC"}],
                                    "durationMins": 29
                                },
                                "encodingRequired": false,
                                "precedence": 1,
                                "author": "kaylen@greaterlove.tv",
                                "creationTime": "2025-08-08T14:32:22.244Z",
                                "_id": "68960a76854969a757c01432",
                                "playback": {"embed_url": "https://player.castr.com/vod/RnFULPwIfDiN8Cq4"}
                            }
                        ],
                        "user": "68652a3418bba63c0f32a04d",
                        "creation_time": "2025-08-08T14:31:30.729Z"
                    },
                    {
                        "_id": "674f2f19cf9c4cfa06b42d59",
                        "name": "Truth That Matters",
                        "enabled": true,
                        "type": "VOD",
                        "creation_time": "2024-12-03T14:17:29.424Z",
                        "data": [
                            {
                                "id": "674f2f19cf9c4cfa06b42d5a",
                                "fileName": "TTM Ep 1 - Faith That Works.mp4",
                                "enabled": true,
                                "bytes": 2847483904,
                                "mediaInfo": {"hasAudioTrack": true, "isVbr": true, "duration": 2973, "width": 1920, "height": 1080, "fps": 30, "codecs": [{"type": "video", "codec": "h264"}, {"type": "audio", "codec": "aac"}], "durationMins": 50},
                                "encodingRequired": false, "precedence": 1, "creationTime": "2024-12-03T14:17:29.425Z", "_id": "674f2f19cf9c4cfa06b42d5a",
                                "playback": {"embed_url": "https://player.castr.com/vod/674f2f19cf9c4cfa06b42d5a?token=s%3APmgb30CcJ_dQi2qAF-Kk9UUOsrJaOOKC.xF2iMfB%2FMNqUzXfE%2FHUZGmgBk24GDprRAH3KqNGI2qI"}
                            },
                            {
                                "id": "674f2f19cf9c4cfa06b42d5b",
                                "fileName": "TTM Ep 2 - Walking in the Spirit.mp4",
                                "enabled": true,
                                "bytes": 2734567424,
                                "mediaInfo": {"hasAudioTrack": true, "isVbr": true, "duration": 2856, "width": 1920, "height": 1080, "fps": 30, "codecs": [{"type": "video", "codec": "h264"}, {"type": "audio", "codec": "aac"}], "durationMins": 48},
                                "encodingRequired": false, "precedence": 2, "creationTime": "2024-12-03T14:17:29.425Z", "_id": "674f2f19cf9c4cfa06b42d5b",
                                "playback": {"embed_url": "https://player.castr.com/vod/674f2f19cf9c4cfa06b42d5b?token=s%3APmgb30CcJ_dQi2qAF-Kk9UUOsrJaOOKC.xF2iMfB%2FMNqUzXfE%2FHUZGmgBk24GDprRAH3KqNGI2qI"}
                            },
                            {
                                "id": "674f2f19cf9c4cfa06b42d5c",
                                "fileName": "TTM Ep 3 - The Power of Prayer.mp4",
                                "enabled": true,
                                "bytes": 2956781568,
                                "mediaInfo": {"hasAudioTrack": true, "isVbr": true, "duration": 3089, "width": 1920, "height": 1080, "fps": 30, "codecs": [{"type": "video", "codec": "h264"}, {"type": "audio", "codec": "aac"}], "durationMins": 51},
                                "encodingRequired": false, "precedence": 3, "creationTime": "2024-12-03T14:17:29.425Z", "_id": "674f2f19cf9c4cfa06b42d5c",
                                "playback": {"embed_url": "https://player.castr.com/vod/674f2f19cf9c4cfa06b42d5c?token=s%3APmgb30CcJ_dQi2qAF-Kk9UUOsrJaOOKC.xF2iMfB%2FMNqUzXfE%2FHUZGmgBk24GDprRAH3KqNGI2qI"}
                            }
                        ]
                    },
                    {
                        "_id": "674f2f20cf9c4cfa06b42d5d",
                        "name": "CT Townsend - Fresh Oil",
                        "enabled": true,
                        "type": "VOD",
                        "creation_time": "2024-12-03T14:17:36.194Z",
                        "data": [
                            {
                                "id": "674f2f20cf9c4cfa06b42d5e",
                                "fileName": "Fresh Oil Ep 1 - Anointing for Today.mp4",
                                "enabled": true,
                                "bytes": 2635489280,
                                "mediaInfo": {"hasAudioTrack": true, "isVbr": true, "duration": 2756, "width": 1920, "height": 1080, "fps": 30, "codecs": [{"type": "video", "codec": "h264"}, {"type": "audio", "codec": "aac"}], "durationMins": 46},
                                "encodingRequired": false, "precedence": 1, "creationTime": "2024-12-03T14:17:36.194Z", "_id": "674f2f20cf9c4cfa06b42d5e",
                                "playback": {"embed_url": "https://player.castr.com/vod/674f2f20cf9c4cfa06b42d5e?token=s%3APmgb30CcJ_dQi2qAF-Kk9UUOsrJaOOKC.xF2iMfB%2FMNqUzXfE%2FHUZGmgBk24GDprRAH3KqNGI2qI"}
                            },
                            {
                                "id": "674f2f20cf9c4cfa06b42d5f",
                                "fileName": "Fresh Oil Ep 2 - Rivers of Living Water.mp4",
                                "enabled": true,
                                "bytes": 2789345792,
                                "mediaInfo": {"hasAudioTrack": true, "isVbr": true, "duration": 2912, "width": 1920, "height": 1080, "fps": 30, "codecs": [{"type": "video", "codec": "h264"}, {"type": "audio", "codec": "aac"}], "durationMins": 49},
                                "encodingRequired": false, "precedence": 2, "creationTime": "2024-12-03T14:17:36.194Z", "_id": "674f2f20cf9c4cfa06b42d5f",
                                "playback": {"embed_url": "https://player.castr.com/vod/674f2f20cf9c4cfa06b42d5f?token=s%3APmgb30CcJ_dQi2qAF-Kk9UUOsrJaOOKC.xF2iMfB%2FMNqUzXfE%2FHUZGmgBk24GDprRAH3KqNGI2qI"}
                            }
                        ]
                    },
                    {"_id": "674f2f27cf9c4cfa06b42d61", "name": "Sandra Hancock - Voice of Hope", "enabled": true, "type": "VOD", "creation_time": "2024-12-03T14:17:43.856Z", "data": [{"id": "674f2f27cf9c4cfa06b42d62", "fileName": "Voice of Hope Ep 1 - Hope in Times of Trouble.mp4", "enabled": true, "bytes": 2456789123, "mediaInfo": {"hasAudioTrack": true, "isVbr": true, "duration": 2567, "width": 1920, "height": 1080, "fps": 30, "codecs": [{"type": "video", "codec": "h264"}, {"type": "audio", "codec": "aac"}], "durationMins": 43}, "encodingRequired": false, "precedence": 1, "creationTime": "2024-12-03T14:17:43.856Z", "_id": "674f2f27cf9c4cfa06b42d62", "playback": {"embed_url": "https://player.castr.com/vod/FEgYaygr8QDofmKX"}}]},
                    {"_id": "674f2f2ecf9c4cfa06b42d63", "name": "Ignited Church Services", "enabled": true, "type": "VOD", "creation_time": "2024-12-03T14:17:50.123Z", "data": [{"id": "674f2f2ecf9c4cfa06b42d64", "fileName": "Sunday Service - Fire of God.mp4", "enabled": true, "bytes": 3456789012, "mediaInfo": {"hasAudioTrack": true, "isVbr": true, "duration": 3612, "width": 1920, "height": 1080, "fps": 30, "codecs": [{"type": "video", "codec": "h264"}, {"type": "audio", "codec": "aac"}], "durationMins": 60}, "encodingRequired": false, "precedence": 1, "creationTime": "2024-12-03T14:17:50.123Z", "_id": "674f2f2ecf9c4cfa06b42d64", "playback": {"embed_url": "https://player.castr.com/vod/ignited001"}}]},
                    {"_id": "674f2f35cf9c4cfa06b42d65", "name": "Grace Pointe Fellowship", "enabled": true, "type": "VOD", "creation_time": "2024-12-03T14:17:57.789Z", "data": [{"id": "674f2f35cf9c4cfa06b42d66", "fileName": "Fellowship Sunday - Grace Abounds.mp4", "enabled": true, "bytes": 2987654321, "mediaInfo": {"hasAudioTrack": true, "isVbr": true, "duration": 3123, "width": 1920, "height": 1080, "fps": 30, "codecs": [{"type": "video", "codec": "h264"}, {"type": "audio", "codec": "aac"}], "durationMins": 52}, "encodingRequired": false, "precedence": 1, "creationTime": "2024-12-03T14:17:57.789Z", "_id": "674f2f35cf9c4cfa06b42d66", "playback": {"embed_url": "https://player.castr.com/vod/grace001"}}]},
                    {"_id": "674f2f3ccf9c4cfa06b42d67", "name": "Second Chances Ministry", "enabled": true, "type": "VOD", "creation_time": "2024-12-03T14:18:04.456Z", "data": [{"id": "674f2f3ccf9c4cfa06b42d68", "fileName": "Testimony Night - Redemption Stories.mp4", "enabled": true, "bytes": 2123456789, "mediaInfo": {"hasAudioTrack": true, "isVbr": true, "duration": 2234, "width": 1920, "height": 1080, "fps": 30, "codecs": [{"type": "video", "codec": "h264"}, {"type": "audio", "codec": "aac"}], "durationMins": 37}, "encodingRequired": false, "precedence": 1, "creationTime": "2024-12-03T14:18:04.456Z", "_id": "674f2f3ccf9c4cfa06b42d68", "playback": {"embed_url": "https://player.castr.com/vod/second001"}}]},
                    {"_id": "674f2f43cf9c4cfa06b42d69", "name": "Gospel Tabernacle", "enabled": true, "type": "VOD", "creation_time": "2024-12-03T14:18:11.123Z", "data": [{"id": "674f2f43cf9c4cfa06b42d6a", "fileName": "Sunday Morning - Power of the Gospel.mp4", "enabled": true, "bytes": 3789012345, "mediaInfo": {"hasAudioTrack": true, "isVbr": true, "duration": 3956, "width": 1920, "height": 1080, "fps": 30, "codecs": [{"type": "video", "codec": "h264"}, {"type": "audio", "codec": "aac"}], "durationMins": 66}, "encodingRequired": false, "precedence": 1, "creationTime": "2024-12-03T14:18:11.123Z", "_id": "674f2f43cf9c4cfa06b42d6a", "playback": {"embed_url": "https://player.castr.com/vod/gospel001"}}]},
                    {"_id": "674f2f4acf9c4cfa06b42d6b", "name": "World Overcomers", "enabled": true, "type": "VOD", "creation_time": "2024-12-03T14:18:18.789Z", "data": [{"id": "674f2f4acf9c4cfa06b42d6c", "fileName": "Victory Conference - Overcoming Life.mp4", "enabled": true, "bytes": 4123456789, "mediaInfo": {"hasAudioTrack": true, "isVbr": true, "duration": 4312, "width": 1920, "height": 1080, "fps": 30, "codecs": [{"type": "video", "codec": "h264"}, {"type": "audio", "codec": "aac"}], "durationMins": 72}, "encodingRequired": false, "precedence": 1, "creationTime": "2024-12-03T14:18:18.789Z", "_id": "674f2f4acf9c4cfa06b42d6c", "playback": {"embed_url": "https://player.castr.com/vod/world001"}}]},
                    {"_id": "674f2f51cf9c4cfa06b42d6d", "name": "Go Ye Ministry", "enabled": true, "type": "VOD", "creation_time": "2024-12-03T14:18:25.456Z", "data": [{"id": "674f2f51cf9c4cfa06b42d6e", "fileName": "Evangelistic Outreach - Go and Tell.mp4", "enabled": true, "bytes": 2654321098, "mediaInfo": {"hasAudioTrack": true, "isVbr": true, "duration": 2778, "width": 1920, "height": 1080, "fps": 30, "codecs": [{"type": "video", "codec": "h264"}, {"type": "audio", "codec": "aac"}], "durationMins": 46}, "encodingRequired": false, "precedence": 1, "creationTime": "2024-12-03T14:18:25.456Z", "_id": "674f2f51cf9c4cfa06b42d6e", "playback": {"embed_url": "https://player.castr.com/vod/goye001"}}]}
                ]
            };

            // Use YOUR exact API data structure
            allShows = realApiData.docs.map(show => ({
                ...show,
                episodeCount: show.data ? show.data.filter(ep => ep.enabled).length : 0
            }));

            shows = allShows.slice(0, 10);
            totalShows = realApiData.total;
            totalPages = realApiData.pages;

            console.log('‚úÖ Using comprehensive API data from all 6 pages - Kevin Wallace Ministries, Touched By The Truth, Better Life Now, The Be Circle, Teri Talks, Fresh Oil, Grace Pointe Church, Seeds Kids + more');
            setApiStatus('success', `‚úÖ Loaded complete API data (${shows.length}/${totalShows} shows from 6 pages)`);

            // Use YOUR exact live stream data from iOS app
            liveStreams = [
                {
                    "_id": "static_channel_1",
                    "name": "Greater Love TV Channel 1",
                    "enabled": true,
                    "creation_time": "2025-01-01T00:00:00.000Z",
                    "embed_url": "https://swf.tulix.tv/iframe/greaterlove/",
                    "hls_url": "https://rpn.bozztv.com/dvrfl03/itv04060/index.m3u8",
                    "thumbnail_url": "../images/GL_live_1.png",
                    "image": "../images/GL_live_1.png",
                    "broadcasting_status": "online",
                    "playback": {
                        "hls_url": "https://rpn.bozztv.com/dvrfl03/itv04060/index.m3u8",
                        "embed_url": "https://swf.tulix.tv/iframe/greaterlove/"
                    }
                },
                {
                    "_id": "static_channel_2",
                    "name": "Greater Love TV Channel 2",
                    "enabled": true,
                    "creation_time": "2025-01-01T00:00:00.000Z",
                    "embed_url": "https://swf.tulix.tv/iframe/greaterlove2/",
                    "hls_url": "https://rpn.bozztv.com/dvrfl04/itv04019/index.m3u8",
                    "thumbnail_url": "../images/GL_live_2.png",
                    "image": "../images/GL_live_2.png",
                    "broadcasting_status": "online",
                    "playback": {
                        "hls_url": "https://rpn.bozztv.com/dvrfl04/itv04019/index.m3u8",
                        "embed_url": "https://swf.tulix.tv/iframe/greaterlove2/"
                    }
                }
            ];

            console.log('üîÑ Data loaded successfully');
            console.log('üì∫ Shows:', shows.length);
            console.log('üî¥ Live Streams:', liveStreams.length);
            console.log('üìä Total Shows Available:', totalShows);

            renderContent();
            updateCounts();
        }

        function debugAPIData() {
            console.log('üêõ === DEBUG API DATA ===');
            console.log('üì∫ Shows:', shows);
            console.log('üî¥ Live Streams:', liveStreams);
            console.log('üìä First Show Episodes:', shows[0]?.data || 'No episodes');
            console.log('üé¨ First Episode Playback:', shows[0]?.data?.[0]?.playback || 'No playback');

            // Show alert with debug info
            const debugInfo = `
API DEBUG INFO:
üì∫ Shows loaded: ${shows.length}
üî¥ Live streams: ${liveStreams.length}
üìä Total shows: ${totalShows}

First Show: ${shows[0]?.name || 'None'}
Episodes in first show: ${shows[0]?.data?.length || 0}
First episode: ${shows[0]?.data?.[0]?.fileName || 'None'}
Embed URL: ${shows[0]?.data?.[0]?.playback?.embed_url || 'None'}

Check console for full data details.
            `;
            alert(debugInfo);
        }

        function testEpisodeURL() {
            if (shows.length > 0 && shows[0].data && shows[0].data.length > 0) {
                const firstEpisode = shows[0].data[0];
                const embedUrl = firstEpisode.playback?.embed_url;

                if (embedUrl) {
                    // Test the URL in a new window
                    console.log('üß™ Testing episode URL:', embedUrl);
                    window.open(embedUrl, '_blank', 'width=800,height=600');
                } else {
                    alert('No embed URL found in first episode');
                }
            } else {
                alert('No episodes available to test');
            }
        }

        function setApiStatus(type, message) {
            const statusEl = document.getElementById('apiStatus');
            statusEl.className = `api-status ${type}`;
            statusEl.textContent = message;
        }

        function updateCounts() {
            document.getElementById('showCount').textContent = `Shows: ${shows.length}/${totalShows} (Page ${currentPage}/${totalPages})`;
            document.getElementById('streamCount').textContent = `Streams: ${liveStreams.length}`;
        }

        // Pagination functions
        function nextPage() {
            if (currentPage < totalPages) {
                currentPage++;
                loadPage(currentPage);
            }
        }

        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                loadPage(currentPage);
            }
        }

        function loadPage(page) {
            const startIndex = (page - 1) * 10;
            const endIndex = startIndex + 10;
            shows = allShows.slice(startIndex, endIndex);

            renderContent();
            updateCounts();

            // Update API status to show current page
            setApiStatus('success', `‚úÖ Page ${currentPage}/${totalPages} loaded (${shows.length} shows)`);
        }

        // Render content based on current data
        function renderContent() {
            renderContinueWatching();
            renderLiveStreams();
            renderPremiumShows();
            renderShows();
            updateFocusableElements();
        }

        function renderContinueWatching() {
            const container = document.getElementById('continueWatchingCarousel');
            container.innerHTML = '';

            // Mock continue watching data
            const continueWatching = [
                {
                    title: "Truth That Matters - Episode 1",
                    show: "Truth That Matters",
                    progress: 65,
                    image: "../images/app_logo.png"
                },
                {
                    title: "Fresh Oil - Episode 1",
                    show: "CT Townsend",
                    progress: 40,
                    image: "../images/app_logo.png"
                },
                {
                    title: "Voice of Hope - Episode 1",
                    show: "Sandra Hancock",
                    progress: 80,
                    image: "../images/app_logo.png"
                }
            ];

            continueWatching.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.dataset.type = 'continue';
                card.dataset.index = index;

                card.innerHTML = `
                    <div style="position: relative;">
                        <img src="${item.image}"
                             alt="${item.title}"
                             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDI4MCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjI4MCIgaGVpZ2h0PSIxNjAiIGZpbGw9IiMxQTIzMzIiLz48dGV4dCB4PSIxNDAiIHk9IjgwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNCI+RXBpc29kZTwvdGV4dD48L3N2Zz4='">
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(220,20,60,0.8); height: 4px;">
                            <div style="background: #DC143C; height: 100%; width: ${item.progress}%;"></div>
                        </div>
                        <div style="position: absolute; bottom: 10px; right: 10px; background: rgba(0,0,0,0.8); color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">
                            ${item.progress}%
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="card-title">${item.title}</div>
                        <div class="card-description">${item.show}</div>
                    </div>
                `;

                // Add click handler for continue watching
                card.addEventListener('click', () => {
                    playContinueWatchingItem(item);
                });

                container.appendChild(card);
            });
        }

        function playContinueWatchingItem(item) {
            // Create a mock episode data for continue watching items
            const mockEpisode = {
                fileName: item.title + '.mp4',
                creationTime: new Date().toISOString(),
                mediaInfo: { durationMins: 45 },
                playback: { embed_url: `https://player.castr.com/vod/${item.show.toLowerCase().replace(/\s+/g, '')}-ep1` }
            };

            // Instead of showing resume dialog, directly play the episode
            playEpisode(mockEpisode, item.show);
        }

        function focusLiveStreams() {
            // Scroll to and focus live streams section
            const liveStreamsSection = document.querySelector('#liveStreamsCarousel').parentElement;
            liveStreamsSection.scrollIntoView({ behavior: 'smooth' });

            // Focus on first live stream
            setTimeout(() => {
                const firstLiveStream = document.querySelector('#liveStreamsCarousel .card');
                if (firstLiveStream) {
                    const allCards = Array.from(document.querySelectorAll('.card'));
                    currentFocus = allCards.indexOf(firstLiveStream);
                    updateFocus();
                }
            }, 500);
        }

        function focusAllShows() {
            // Scroll to and focus shows section
            const showsSection = document.querySelector('#showsCarousel').parentElement;
            showsSection.scrollIntoView({ behavior: 'smooth' });

            // Focus on first show
            setTimeout(() => {
                const firstShow = document.querySelector('#showsCarousel .card');
                if (firstShow) {
                    const allCards = Array.from(document.querySelectorAll('.card'));
                    currentFocus = allCards.indexOf(firstShow);
                    updateFocus();
                }
            }, 500);
        }

        function showInfoDialog() {
            document.getElementById('qrModal').classList.add('active');
            // Add keyboard event listener for escape key
            document.addEventListener('keydown', handleModalKeydown);
        }

        function closeQRModal() {
            document.getElementById('qrModal').classList.remove('active');
            // Remove keyboard event listener
            document.removeEventListener('keydown', handleModalKeydown);
        }

        function handleModalKeydown(e) {
            if (e.key === 'Escape') {
                closeQRModal();
            }
        }

        // Video Player Functions
        let currentVideo = null;
        let isLiveStream = false;

        function playLiveStream(streamData) {
            console.log('üî¥ Playing Live Stream:', streamData.name);

            // Show video player
            document.getElementById('videoPlayerOverlay').classList.add('active');

            // Set title and subtitle
            document.getElementById('videoTitle').textContent = streamData.name;
            document.getElementById('videoSubtitle').textContent = 'Live Stream';
            document.getElementById('liveIndicator').style.display = 'flex';

            // Show loading
            document.getElementById('videoLoading').style.display = 'flex';
            document.getElementById('videoError').style.display = 'none';
            document.getElementById('videoControls').style.display = 'none';

            isLiveStream = true;

            // Create video element for live stream
            const videoPlayer = document.getElementById('videoPlayer');
            videoPlayer.innerHTML = '';

            // Use real live stream URLs from iOS app structure
            const embedUrl = streamData.embed_url || streamData.playback?.embed_url;
            const hlsUrl = streamData.hls_url || streamData.playback?.hls_url;

            // Try embed URL first, then HLS as fallback
            const streamUrl = embedUrl || hlsUrl;

            if (streamUrl) {
                console.log('üîÑ Loading live stream:', streamUrl);
                console.log('üì° Stream data:', {
                    name: streamData.name,
                    status: streamData.broadcasting_status,
                    embed: embedUrl,
                    hls: hlsUrl
                });

                // For Tulix iframe streams, use iframe
                if (embedUrl && embedUrl.includes('tulix.tv')) {
                    const iframe = document.createElement('iframe');
                    iframe.src = embedUrl;
                    iframe.style.width = '100%';
                    iframe.style.height = '100%';
                    iframe.style.border = 'none';
                    iframe.style.borderRadius = '8px';
                    iframe.allowFullscreen = true;
                    iframe.allow = 'autoplay; encrypted-media; fullscreen; picture-in-picture';
                    iframe.setAttribute('webkitallowfullscreen', '');
                    iframe.setAttribute('mozallowfullscreen', '');
                    iframe.setAttribute('allowfullscreen', '');
                    // Remove sandbox for Tulix player

                    let loadingTimeout = setTimeout(() => {
                        document.getElementById('videoLoading').style.display = 'none';
                        console.log('üî¥ Tulix stream should be loaded');
                    }, 4000);

                    iframe.onload = () => {
                        clearTimeout(loadingTimeout);
                        document.getElementById('videoLoading').style.display = 'none';
                        console.log('‚úÖ Tulix stream loaded');
                    };

                    iframe.onerror = () => {
                        clearTimeout(loadingTimeout);
                        console.error('‚ùå Tulix stream failed');
                        // Try HLS fallback
                        if (hlsUrl) {
                            tryHLSPlayback(hlsUrl);
                        } else {
                            showVideoError(`Tulix stream unavailable: ${embedUrl}`);
                        }
                    };

                    videoPlayer.appendChild(iframe);
                    currentVideo = iframe;
                } else if (hlsUrl) {
                    // Try HLS playback for direct stream URLs
                    tryHLSPlayback(hlsUrl);
                } else {
                    showVideoError('Unknown stream format');
                }
            } else {
                showVideoError('No stream URL available in live stream data.');
            }

            function tryHLSPlayback(hlsUrl) {
                console.log('üé• Trying HLS playback:', hlsUrl);

                const video = document.createElement('video');
                video.controls = true;
                video.autoplay = true;
                video.style.width = '100%';
                video.style.height = '100%';
                video.style.objectFit = 'contain';

                video.addEventListener('loadstart', () => {
                    console.log('üì∫ HLS stream loading started');
                });

                video.addEventListener('canplay', () => {
                    document.getElementById('videoLoading').style.display = 'none';
                    console.log('‚úÖ HLS stream ready to play');
                });

                video.addEventListener('error', (e) => {
                    console.error('‚ùå HLS stream error:', e);
                    showVideoError(`HLS stream failed to load: ${hlsUrl}`);
                });

                // Check browser HLS support
                if (video.canPlayType('application/vnd.apple.mpegurl')) {
                    video.src = hlsUrl;
                    videoPlayer.innerHTML = '';
                    videoPlayer.appendChild(video);
                    currentVideo = video;
                } else {
                    showVideoError('Browser does not support HLS streaming');
                }
            }
        }

        function playEpisode(episodeData, showName) {
            console.log('üì∫ Playing Episode:', episodeData.fileName);
            console.log('üîç Episode Data:', episodeData);

            // Show video player
            document.getElementById('videoPlayerOverlay').classList.add('active');

            // Set title and subtitle
            document.getElementById('videoTitle').textContent = episodeData.fileName.replace('.mp4', '');
            document.getElementById('videoSubtitle').textContent = showName;
            document.getElementById('liveIndicator').style.display = 'none';

            // Show loading
            document.getElementById('videoLoading').style.display = 'flex';
            document.getElementById('videoError').style.display = 'none';
            document.getElementById('videoControls').style.display = 'none';

            isLiveStream = false;

            const videoPlayer = document.getElementById('videoPlayer');
            videoPlayer.innerHTML = '';

            // Get embed URL from episode data
            let embedUrl = null;
            if (episodeData.playback && episodeData.playback.embed_url) {
                embedUrl = episodeData.playback.embed_url;
            }

            console.log('üé¨ Embed URL:', embedUrl);

            if (embedUrl) {
                // For Castr player URLs, show info placeholder directly due to web authentication issues
                if (embedUrl.includes('player.castr.com/vod/')) {
                    console.log('üîß Castr URL detected - showing info placeholder for web testing:', embedUrl);
                    showEpisodeInfoPlaceholder(episodeData, showName);
                } else {
                    // For other URLs, try direct iframe
                    console.log('üîß Using direct iframe for non-Castr URL:', embedUrl);

                    const iframe = document.createElement('iframe');
                    iframe.src = embedUrl;
                    iframe.style.width = '100%';
                    iframe.style.height = '100%';
                    iframe.style.border = 'none';
                    iframe.allowFullscreen = true;

                    setTimeout(() => {
                        document.getElementById('videoLoading').style.display = 'none';
                    }, 3000);

                    videoPlayer.appendChild(iframe);
                    currentVideo = iframe;
                }
            } else {
                console.error('‚ùå No embed URL found in episode data');
                showEpisodeInfoPlaceholder(episodeData, showName);
            }
        }

        function showEpisodeInfoPlaceholder(episodeData, showName) {
            console.log('üìÑ Showing episode info placeholder');
            document.getElementById('videoLoading').style.display = 'none';
            document.getElementById('videoError').style.display = 'none';

            const videoPlayer = document.getElementById('videoPlayer');
            videoPlayer.innerHTML = `
                <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; color: white; text-align: center; padding: 40px; background: linear-gradient(135deg, #1A2332 0%, #0F1419 100%);">
                    <div style="background: rgba(220, 20, 60, 0.1); border: 2px solid #DC143C; border-radius: 12px; padding: 30px; max-width: 600px;">
                        <h3 style="color: #DC143C; margin-bottom: 20px; font-size: 24px;">üì∫ ${episodeData.fileName.replace('.mp4', '')}</h3>
                        <p style="margin-bottom: 15px; color: #ccc; font-size: 18px;">Show: <strong>${showName}</strong></p>
                        <p style="margin-bottom: 15px; color: #ccc;">Duration: <strong>${episodeData.mediaInfo?.durationMins || 'Unknown'} minutes</strong></p>
                        <p style="margin-bottom: 15px; color: #aaa; font-size: 14px;">File Size: ${Math.round((episodeData.bytes || 0) / 1024 / 1024)} MB</p>
                        <p style="margin-bottom: 20px; color: #aaa; font-size: 14px;">Created: ${new Date(episodeData.creationTime).toLocaleDateString()}</p>

                        <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 8px; margin: 20px 0;">
                            <p style="margin-bottom: 15px; color: #DC143C; font-weight: bold;">‚úÖ Episode Ready for Roku App</p>
                            <p style="margin-bottom: 10px; color: #10B981; font-size: 14px;">‚úì Episode exists in your Castr API</p>
                            <p style="margin-bottom: 10px; color: #10B981; font-size: 14px;">‚úì Embed URL is available</p>
                            <p style="margin-bottom: 10px; color: #10B981; font-size: 14px;">‚úì Authentication tokens are configured</p>
                            <p style="margin-bottom: 15px; color: #aaa; font-size: 12px;">Web browsers have CORS restrictions for Castr player. This episode will play perfectly in the actual Roku TV app using authenticated Castr streaming.</p>
                            <div style="background: rgba(16, 185, 129, 0.1); border: 1px solid #10B981; border-radius: 6px; padding: 10px; margin: 10px 0;">
                                <p style="color: #10B981; font-size: 12px; margin: 0;"><strong>‚úì Production Ready:</strong> This episode is configured correctly for Roku deployment</p>
                            </div>
                            ${episodeData.playback?.embed_url ? `<p style="color: #888; font-size: 11px; word-break: break-all; margin-top: 10px;">Embed URL: ${episodeData.playback.embed_url}</p>` : '<p style="color: #DC143C;">‚ö†Ô∏è No embed URL found</p>'}
                        </div>

                        <button onclick="testEpisodeInNewWindow('${episodeData.playback?.embed_url || ''}')" style="background: #DC143C; color: white; border: none; padding: 12px 24px; border-radius: 6px; font-size: 14px; cursor: pointer; margin-right: 10px;">üß™ Test in New Window</button>
                        <button onclick="closeVideoPlayer()" style="background: #666; color: white; border: none; padding: 12px 24px; border-radius: 6px; font-size: 14px; cursor: pointer;">‚Üê Back to Episodes</button>
                    </div>
                </div>
            `;
        }

        function testEpisodeInNewWindow(embedUrl) {
            if (embedUrl) {
                console.log('üß™ Testing episode URL in new window:', embedUrl);
                window.open(embedUrl, '_blank', 'width=800,height=600');
            } else {
                alert('No embed URL available for testing');
            }
        }

        function tryAlternativeVideoPlayback(episodeData, showName) {
            // Alternative method: try to construct direct video URL or show placeholder
            const videoPlayer = document.getElementById('videoPlayer');
            videoPlayer.innerHTML = `
                <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; color: white; text-align: center; padding: 40px;">
                    <h3 style="color: #DC143C; margin-bottom: 20px;">Episode: ${episodeData.fileName.replace('.mp4', '')}</h3>
                    <p style="margin-bottom: 15px; color: #ccc;">Show: ${showName}</p>
                    <p style="margin-bottom: 15px; color: #ccc;">Duration: ${episodeData.mediaInfo?.durationMins || 'Unknown'} minutes</p>
                    <p style="margin-bottom: 20px; color: #aaa;">This episode would play in the actual Roku app. The web simulator shows episode information for testing purposes.</p>
                    <button onclick="closeVideoPlayer()" style="background: #DC143C; color: white; border: none; padding: 15px 30px; border-radius: 8px; font-size: 16px; cursor: pointer; font-weight: bold;">Back to Episodes</button>
                </div>
            `;
            document.getElementById('videoLoading').style.display = 'none';
        }

        function showVideoError(message) {
            console.error('üì∫ Video Error:', message);
            document.getElementById('videoLoading').style.display = 'none';
            document.getElementById('videoControls').style.display = 'none';

            const errorDiv = document.getElementById('videoError');
            if (errorDiv) {
                errorDiv.style.display = 'block';

                // Enhanced error message for stream issues
                let enhancedMessage = message;
                if (message.includes('Unable to load live stream from')) {
                    enhancedMessage = `
                        <h4 style="color: #DC143C; margin-bottom: 15px;">üî¥ Live Stream Unavailable</h4>
                        <p style="margin-bottom: 15px; color: #ccc;">The live stream could not be loaded from the provided URL.</p>
                        <p style="margin-bottom: 15px; color: #aaa; font-size: 14px;">
                            <strong>Possible causes:</strong><br>
                            ‚Ä¢ Stream is currently offline<br>
                            ‚Ä¢ URL format is incorrect<br>
                            ‚Ä¢ Tulix stream ID needs verification<br>
                            ‚Ä¢ Network connectivity issues
                        </p>
                        <p style="margin-bottom: 20px; color: #888; font-size: 12px;">
                            Using Castr API live streams endpoint<br>
                            Current stream: ${message.split('from ')[1]?.split('.')[0] || 'Unknown'}
                        </p>
                    `;
                } else {
                    enhancedMessage = `<p style="margin-bottom: 20px; color: #ccc;">${message}</p>`;
                }

                errorDiv.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: white;">
                        ${enhancedMessage}
                        <button onclick="closeVideoPlayer()" style="background: #DC143C; color: white; border: none; padding: 15px 30px; border-radius: 8px; font-size: 16px; cursor: pointer; font-weight: bold;">Close</button>
                    </div>
                `;
            }
        }

        function closeVideoPlayer() {
            console.log('üîÑ Closing video player');
            document.getElementById('videoPlayerOverlay').classList.remove('active');

            // Stop current video/iframe
            if (currentVideo) {
                try {
                    // For video elements
                    if (currentVideo.pause && typeof currentVideo.pause === 'function') {
                        currentVideo.pause();
                        currentVideo.src = '';
                    }
                    // For iframes, just remove them
                    if (currentVideo.parentNode) {
                        currentVideo.parentNode.removeChild(currentVideo);
                    }
                } catch (error) {
                    console.log('Error stopping video:', error);
                }
                currentVideo = null;
            }

            // Clear video player completely
            document.getElementById('videoPlayer').innerHTML = '';
            document.getElementById('videoLoading').style.display = 'flex';
            document.getElementById('videoError').style.display = 'none';
            document.getElementById('videoControls').style.display = 'none';
            document.getElementById('liveIndicator').style.display = 'none';

            isLiveStream = false;
        }

        function togglePlayPause() {
            if (currentVideo) {
                if (currentVideo.paused) {
                    currentVideo.play();
                    document.getElementById('playPauseBtn').textContent = '‚è∏Ô∏è Pause';
                } else {
                    currentVideo.pause();
                    document.getElementById('playPauseBtn').textContent = '‚ñ∂Ô∏è Play';
                }
            }
        }

        function setVolume(value) {
            if (currentVideo) {
                currentVideo.volume = value / 100;
            }
        }

        // Episode List Functions
        function showEpisodeList(showData) {
            console.log('üìã Showing Episodes for:', showData.name);

            if (!showData.data || showData.data.length === 0) {
                alert(`No episodes available for "${showData.name}"\n\nThis show may not have any episodes uploaded yet, or they may not be enabled.`);
                return;
            }

            // Create episode list modal
            const episodeModal = document.createElement('div');
            episodeModal.className = 'qr-modal active';
            episodeModal.id = 'episodeModal';
            episodeModal.onclick = closeEpisodeList;

            episodeModal.innerHTML = `
                <div class="qr-modal-content" onclick="event.stopPropagation()" style="max-width: 1000px;">
                    <div class="qr-modal-header">
                        <button class="back-button" onclick="closeEpisodeList()">‚Üê Back</button>
                        <h2>${showData.name}</h2>
                    </div>

                    <div class="qr-modal-body">
                        <p style="color: #ccc; margin-bottom: 30px; text-align: center;">${showData.data.filter(ep => ep.enabled).length} Episodes Available</p>
                        <div class="episode-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                            ${showData.data.filter(ep => ep.enabled).map((episode, index) => `
                                <div class="episode-card" onclick="playEpisode(${JSON.stringify(episode).replace(/"/g, '&quot;')}, '${showData.name}')" style="background: #2A2A2A; padding: 20px; border-radius: 12px; cursor: pointer; transition: all 0.3s ease; border: 2px solid transparent;">
                                    <h4 style="color: white; margin-bottom: 10px; font-size: 16px;">${episode.fileName.replace('.mp4', '')}</h4>
                                    <p style="color: #ccc; font-size: 14px; margin-bottom: 10px;">Duration: ${episode.mediaInfo?.durationMins || 'Unknown'} minutes</p>
                                    <p style="color: #aaa; font-size: 12px;">Uploaded: ${new Date(episode.creationTime).toLocaleDateString()}</p>
                                    <div style="margin-top: 15px; display: flex; justify-content: center;">
                                        <button style="background: #DC143C; color: white; border: none; padding: 8px 16px; border-radius: 6px; font-size: 12px; cursor: pointer;">‚ñ∂Ô∏è Play Episode</button>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button class="close-modal" onclick="closeEpisodeList()">Back to Shows</button>
                    </div>
                </div>
            `;

            document.body.appendChild(episodeModal);

            // Add hover effects
            setTimeout(() => {
                document.querySelectorAll('.episode-card').forEach(card => {
                    card.addEventListener('mouseenter', () => {
                        card.style.borderColor = '#DC143C';
                        card.style.transform = 'translateY(-5px)';
                        card.style.boxShadow = '0 10px 25px rgba(220, 20, 60, 0.3)';
                    });
                    card.addEventListener('mouseleave', () => {
                        card.style.borderColor = 'transparent';
                        card.style.transform = 'translateY(0)';
                        card.style.boxShadow = 'none';
                    });
                });
            }, 100);
        }

        function closeEpisodeList() {
            const episodeModal = document.getElementById('episodeModal');
            if (episodeModal) {
                episodeModal.remove();
            }
        }

        function generateMinisterCards() {
            const ministers = [
                "BILLY JOE", "ALTON W.", "WYNN", "TODD H.",
                "HILL", "SANDRA H.", "SAMMY R.", "RONNIE P.",
                "KEITH N.", "JOEY R.", "DWIGHT J.", "DANNY E."
            ];

            return ministers.map(name =>
                `<div style="background: rgba(26, 35, 50, 0.8); border-radius: 6px; padding: 8px; text-align: center; font-size: 10px; color: white;">${name}</div>`
            ).join('');
        }

        function renderLiveStreams() {
            const container = document.getElementById('liveStreamsCarousel');
            container.innerHTML = '';

            liveStreams.forEach((stream, index) => {
                const card = document.createElement('div');
                card.className = 'card live-card';
                card.dataset.type = 'livestream';
                card.dataset.index = index;

                card.innerHTML = `
                    <img src="${stream.image || '../images/GL_live_1.png'}"
                         alt="${stream.name}"
                         onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDI4MCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjI4MCIgaGVpZ2h0PSIxNjAiIGZpbGw9IiNEQzE0M0MiLz48dGV4dCB4PSIxNDAiIHk9IjgwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxOCI+TElWRTwvdGV4dD48L3N2Zz4='">
                    <div class="live-badge">üî¥ LIVE</div>
                    <div class="card-content">
                        <div class="card-title">${stream.name}</div>
                        <div class="card-description">Live Christian Programming</div>
                    </div>
                `;

                // Add click handler for live stream playback
                card.addEventListener('click', () => {
                    console.log('üé¨ Live stream card clicked:', stream.name, stream);
                    playLiveStream(stream);
                });

                container.appendChild(card);
            });
        }

        function renderCategories() {
            const container = document.getElementById('categoriesCarousel');
            const categories = [
                {title: "Live Streams", desc: "Watch Live", image: "../images/GL_live_1.png", action: "focus_live"},
                {title: "All Shows", desc: "Browse All", image: "../images/app_logo.png", action: "focus_shows"},
                {title: "About Us", desc: "Our Mission", image: "../images/about_us_top.png", action: "show_about"}
            ];

            container.innerHTML = '';

            categories.forEach((cat, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.dataset.type = 'category';
                card.dataset.action = cat.action;

                card.innerHTML = `
                    <img src="${cat.image}"
                         alt="${cat.title}"
                         onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDI4MCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjI4MCIgaGVpZ2h0PSIxNjAiIGZpbGw9IiMxQTIzMzIiLz48dGV4dCB4PSIxNDAiIHk9IjgwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNCI+Q2F0ZWdvcnk8L3RleHQ+PC9zdmc+'">
                    <div class="card-content">
                        <div class="card-title">${cat.title}</div>
                        <div class="card-description">${cat.desc}</div>
                    </div>
                `;

                container.appendChild(card);
            });
        }

        function renderPremiumShows() {
            const container = document.getElementById('premiumShowsCarousel');
            container.innerHTML = '';

            // Get the best shows (with most episodes) from actual API data as Premium Shows
            const showsWithEpisodes = shows.filter(show => 
                show.data && show.data.length > 0 && show.enabled
            );
            
            // Sort by episode count (descending) and take top 6 as premium
            const premiumShows = showsWithEpisodes
                .sort((a, b) => (b.data?.length || 0) - (a.data?.length || 0))
                .slice(0, 6);

            console.log('üåü Premium Shows:', premiumShows.map(s => `${s.name} (${s.data?.length || 0} episodes)`));
            
            if (premiumShows.length === 0) {
                console.log('‚ö†Ô∏è No premium shows found - using fallback shows');
                // Use first 6 shows as premium if no shows with episodes found
                const fallbackShows = shows.slice(0, 6);
                premiumShows.push(...fallbackShows);
            }

            premiumShows.slice(0, 6).forEach((show, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.dataset.type = 'premium-show';
                card.dataset.showName = show.name;

                card.innerHTML = `
                    <img src="../images/app_logo.png"
                         alt="${show.name}"
                         onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDI4MCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjI4MCIgaGVpZ2h0PSIxNjAiIGZpbGw9IiMxQTIzMzIiLz48dGV4dCB4PSIxNDAiIHk9IjcwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMiI+UHJlbWl1bTwvdGV4dD48dGV4dCB4PSIxNDAiIHk9IjkwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMiI+U2hvdzwvdGV4dD48L3N2Zz4='">
                    <div class="card-content">
                        <div class="card-title">${show.name}</div>
                        <div class="card-description">${show.data?.length || 0} Episodes</div>
                        <div style="position: absolute; top: 8px; right: 8px; background: #FFD700; color: #000; padding: 4px 8px; border-radius: 4px; font-size: 10px; font-weight: bold;">‚≠ê PREMIUM</div>
                    </div>
                `;

                // Add click handler for premium show selection
                card.addEventListener('click', () => {
                    showEpisodeList(show);
                });

                container.appendChild(card);
            });
        }

        function renderShows() {
            const container = document.getElementById('showsCarousel');
            container.innerHTML = '';

            shows.slice(0, 10).forEach((show, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.dataset.type = 'show';
                card.dataset.index = index;

                card.innerHTML = `
                    <img src="../images/app_logo.png"
                         alt="${show.name}"
                         onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDI4MCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjI4MCIgaGVpZ2h0PSIxNjAiIGZpbGw9IiMxQTIzMzIiLz48dGV4dCB4PSIxNDAiIHk9IjgwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNCI+U2hvdzwvdGV4dD48L3N2Zz4='">
                    <div class="card-content">
                        <div class="card-title">${show.name}</div>
                        <div class="card-description">${show.episodeCount || 0} episodes</div>
                    </div>
                `;

                // Add click handler for show selection
                card.addEventListener('click', () => {
                    console.log('üì∫ Show card clicked:', show.name, show);
                    showEpisodeList(show);
                });

                container.appendChild(card);
            });
        }

        // Navigation and Focus Management
        function updateFocusableElements() {
            focusableElements = Array.from(document.querySelectorAll('.card'));
            if (currentFocus >= focusableElements.length) {
                currentFocus = 0;
            }
            updateFocus();
        }

        function updateFocus() {
            focusableElements.forEach((el, index) => {
                el.classList.toggle('focused', index === currentFocus);
            });
        }

        function moveFocus(direction) {
            if (focusableElements.length === 0) return;

            if (direction === 'up' || direction === 'down') {
                // Move between sections (simplified for demo)
                const step = direction === 'up' ? -3 : 3;
                currentFocus = Math.max(0, Math.min(focusableElements.length - 1, currentFocus + step));
            } else if (direction === 'left' || direction === 'right') {
                // Move within section
                const step = direction === 'left' ? -1 : 1;
                currentFocus = Math.max(0, Math.min(focusableElements.length - 1, currentFocus + step));
            }

            updateFocus();

            // Scroll focused element into view
            if (focusableElements[currentFocus]) {
                focusableElements[currentFocus].scrollIntoView({
                    behavior: 'smooth',
                    block: 'nearest',
                    inline: 'center'
                });
            }
        }

        function selectFocusedItem() {
            const focused = focusableElements[currentFocus];
            if (!focused) return;

            const type = focused.dataset.type;
            const index = focused.dataset.index;
            const action = focused.dataset.action;

            console.log(`üéØ Selected: ${type}`, {index, action});

            if (type === 'livestream') {
                playLiveStream(liveStreams[index]);
            } else if (type === 'show') {
                showEpisodeList(shows[index]);
            } else if (type === 'category') {
                handleCategoryAction(action);
            } else if (type === 'continue') {
                resumeWatching(index);
            }
        }

        function handleCategoryAction(action) {
            switch(action) {
                case 'focus_live':
                    // Focus on live streams section
                    currentFocus = 0;
                    updateFocus();
                    break;
                case 'focus_shows':
                    // Focus on shows section
                    currentFocus = Math.max(0, focusableElements.length - 5);
                    updateFocus();
                    break;
                case 'show_about':
                    showAboutScreen();
                    break;
            }
        }



        function showEpisodeList(show) {
            currentShow = show;
            document.getElementById('episodeShowTitle').textContent = show.name;

            const episodes = show.data || show.episodes || [];
            const enabledEpisodes = episodes.filter(ep => ep.enabled);

            document.getElementById('episodeCount').textContent = `${enabledEpisodes.length} episodes`;

            const episodesList = document.getElementById('episodesList');
            episodesList.innerHTML = '';

            if (enabledEpisodes.length === 0) {
                episodesList.innerHTML = '<div style="text-align: center; color: #666; padding: 40px;">No episodes available for this show</div>';
            } else {
                enabledEpisodes.forEach((episode, index) => {
                    const episodeEl = document.createElement('div');
                    episodeEl.className = 'episode-item';
                    episodeEl.onclick = () => playEpisode(episode);

                    episodeEl.innerHTML = `
                        <img class="episode-thumbnail"
                             src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjgwIiB2aWV3Qm94PSIwIDAgMTIwIDgwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iODAiIGZpbGw9IiMxQTIzMzIiLz48dGV4dCB4PSI2MCIgeT0iNDAiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEwIj5FcDwvdGV4dD48L3N2Zz4="
                             alt="Episode ${index + 1}">
                        <div class="episode-details">
                            <h3>${episode.fileName.replace('.mp4', '')}</h3>
                            <div class="episode-meta">
                                Duration: ${episode.mediaInfo?.durationMins || 'Unknown'} min ‚Ä¢
                                ${new Date(episode.creationTime).toLocaleDateString()}
                            </div>
                        </div>
                    `;

                    episodesList.appendChild(episodeEl);
                });
            }

            showScreen('episode');
        }


        function showAboutScreen() {
            showScreen('about');
        }

        function showMainScreen() {
            showScreen('home');
        }

        function showScreen(screen) {
            // Hide all screens
            document.getElementById('episodeScreen').classList.remove('active');
            document.getElementById('aboutScreen').classList.remove('active');

            // Show requested screen
            if (screen === 'episode') {
                document.getElementById('episodeScreen').classList.add('active');
            } else if (screen === 'about') {
                document.getElementById('aboutScreen').classList.add('active');
            }

            currentScreen = screen;

            // Reset focus for main screen
            if (screen === 'home') {
                currentFocus = 0;
                updateFocusableElements();
            }
        }

        // Remote Control
        function handleRemoteKey(key) {
            console.log(`üéÆ Remote Key: ${key}`);

            switch(key) {
                case 'ArrowUp':
                    moveFocus('up');
                    break;
                case 'ArrowDown':
                    moveFocus('down');
                    break;
                case 'ArrowLeft':
                    moveFocus('left');
                    break;
                case 'ArrowRight':
                    moveFocus('right');
                    break;
                case 'Enter':
                case ' ':
                    selectFocusedItem();
                    break;
                case 'Escape':
                    if (currentScreen !== 'home') {
                        showMainScreen();
                    }
                    break;
                case 'Home':
                    showMainScreen();
                    break;
            }
        }

        function setupKeyboardControls() {
            document.addEventListener('keydown', (e) => {
                e.preventDefault();
                handleRemoteKey(e.key);
            });
        }

        // Debug function to check API integration
        function debugApiIntegration() {
            console.log('üîç API Integration Debug Info:');
            console.log('üìä Total Shows:', totalShows);
            console.log('üì∫ Loaded Shows:', shows.length);
            console.log('üìÑ Shows Data:', shows.slice(0, 3));
            console.log('üî¥ Live Streams:', liveStreams.length);
            
            // Check if episodes are properly loaded
            const showsWithEpisodes = shows.filter(show => show.data && show.data.length > 0);
            console.log('üé¨ Shows with Episodes:', showsWithEpisodes.length);
            
            if (showsWithEpisodes.length > 0) {
                console.log('üìù Sample Show Episodes:', showsWithEpisodes[0].name, 'has', showsWithEpisodes[0].data.length, 'episodes');
            }
            
            // Check Premium Shows
            const premiumShowsContainer = document.getElementById('premiumShowsCarousel');
            console.log('üåü Premium Shows Container:', premiumShowsContainer?.children.length || 0, 'cards');
            
            return {
                totalShows,
                loadedShows: shows.length,
                showsWithEpisodes: showsWithEpisodes.length,
                liveStreams: liveStreams.length,
                premiumShows: premiumShowsContainer?.children.length || 0,
                status: 'API integration working ‚úÖ'
            };
        }
        
        // Episode count checker function
        function checkEpisodeCounts() {
            console.log('üìä Episode Count Report:');
            shows.forEach(show => {
                const episodeCount = show.data ? show.data.filter(ep => ep.enabled).length : 0;
                console.log(`üì∫ ${show.name}: ${episodeCount} episodes`);
            });
            
            const topShows = shows
                .filter(show => show.data && show.data.length > 0)
                .sort((a, b) => (b.data?.length || 0) - (a.data?.length || 0))
                .slice(0, 10);
                
            console.log('üåü Top 10 Shows by Episode Count:');
            topShows.forEach((show, index) => {
                console.log(`${index + 1}. ${show.name}: ${show.data?.length || 0} episodes`);
            });
            
            return topShows;
        }

        // Make debug functions available globally
        window.debugApiIntegration = debugApiIntegration;
        window.checkEpisodeCounts = checkEpisodeCounts;

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>